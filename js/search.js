function initSearch(){function t(t){if(s)t(s);else{var e=new XMLHttpRequest;e.open("GET",l,!0),e.onload=function(){if(this.status>=200&&this.status<300){var e=JSON.parse(this.response||this.responseText);s=e instanceof Array?e:e.posts,t(s)}else console.error(this.statusText)},e.onerror=function(){console.error(this.statusText)},e.send()}}function e(t,e){return t.replace(/\{\w+\}/g,function(t){var n=t.replace(/\{|\}/g,"");return e[n]||""})}function n(t){var n="";n=t.length?t.map(function(t){return e(u,{title:t.title,url:window.mihoConfig.root+"/"+t.path})}).join(""):'<li class="search-result-item-tips"><p>No Result found!</p></li>',c.html(n),r(!0)}function r(t){t?a.addClass("search-container-show"):a.removeClass("search-container-show")}function o(e){var o=this.value.trim().toLowerCase();return o?(t(function(t){var e=[];t.forEach(function(t){t.title.toLowerCase().indexOf(o)>-1&&e.push(t)}),n(e)}),void e.preventDefault()):void r(!1)}var s,i=$("#keywords"),a=($("#back"),$("#search-container")),c=$("#search-result"),u=$("#search-tpl").html(),l="/content.json?v="+ +new Date;i.bind("input propertychange",o)}