!function(e,s){var a=$("body, html"),o=$("#post-toc"),i=$("#header-menu"),n=$("#sidebar-top"),c=$("#sidebar-search"),t=$(".search-wrap"),r=$("#sidebar-menu-box-tags"),d=$("#mobile-header-container-tags"),l=$("#sidebar-menu-box-categories"),h=$("#sidebar-menu-box"),u=$("#mobile-header-menu-nav"),m=!1,p=!0,f=s.documentElement.clientHeight,w={showHeaderMenu:function(e){e>.1*f?(i.removeClass("slide-down"),i.addClass("slide-up")):(i.removeClass("slide-up"),i.addClass("slide-down"))},showBackTop:function(e){n.css("display",e>f?"block":"none")},setTags:function(e){var s=e.find("a");s.css({"font-size":"15px"});for(var a=0,o=s.length;o>a;a++){var i=s.eq(a).html().length%5+1;s[a].className="",s.eq(a).addClass("color"+i)}},setCategories:function(){var e=l.find("a");e.css({"font-size":"15px"});for(var s=0,a=e.length;a>s;s++){var o=e.eq(s).html().length%5+1;e[s].className="",e.eq(s).addClass("color"+o)}},showSidebarBox:function(e){e?h.animate({height:"162px",opacity:"1"},300):h.animate({height:"0px",opacity:"0"},300)},showToc:function(e){e/f>=.4?(o.removeClass("post-toc-top"),o.addClass("post-toc-not-top")):(o.removeClass("post-toc-not-top"),o.addClass("post-toc-top"))},showMobileHeaderMenu:function(e){return m?!1:void(e?u.addClass("mobile-header-menu-nav-in"):u.removeClass("mobile-header-menu-nav-in"))},hideMask:function(e){var s=$(".mask");s.removeClass("in"),e&&e.removeClass("in")},share:function(){var e=$("#share-sub");if(e){var s=$("#share-list"),a=$("#wxFab"),o=$("#wxShare-close"),i=$(".mask");e.click(function(){s.hasClass("in")?s.removeClass("in"):s.addClass("in")}),a.click(function(){var e=$("#wxShare");e.addClass("in ready"),i.addClass("in")}),o.click(function(){w.hideMask($("#wxShare"))}),i.click(function(){w.hideMask($("#wxShare"))})}},reward:function(){var e=$("#reward"),s=$("#reward-close"),a=$("#rewardCode"),o=$(".reward-select-item"),i=$(".mask");if(e){var n=$("#rewardBtn");n.click(function(){e.addClass("in ready"),i.addClass("in")}),o.click(function(){$(this).addClass("checked").siblings(o).removeClass("checked"),a.attr("src","wechat"===$(this).attr("data-id")?this.dataset.wechat:this.dataset.alipay)}),s.click(function(){w.hideMask(e)}),i.click(function(){w.hideMask(e)})}}};initSearch(),c.click(function(){t.css("top","50%"),t.css("marginTop","-80px"),t.css("opacity","1")}),$(".search-close").click(function(){t.css("top","0"),t.css("opacity","0"),$("#search-container").removeClass("search-container-show")}),w.setTags(r),w.setTags(d),w.setCategories(),$("#sidebar-category").click(function(e){r.css("display","none"),l.css("display","block"),e.stopPropagation(),p?(w.showSidebarBox(!0),p=!1):(w.showSidebarBox(!1),p=!0)}),$("#sidebar-tag").click(function(e){r.css("display","block"),l.css("display","none"),e.stopPropagation(),p?(w.showSidebarBox(!0),p=!1):(w.showSidebarBox(!1),p=!0)}),h.click(function(e){return e.stopPropagation(),p?!1:void 0}),$(".sidebar-menu-box-close").click(function(){w.showSidebarBox(!1),p=!0}),n.click(function(){a.animate({scrollTop:0},500)}),s.addEventListener("scroll",function(){var e=s.documentElement.scrollTop||s.body.scrollTop;w.showHeaderMenu(e),w.showBackTop(e),w.showToc(e)},!1),$(".mobile-header-menu-button").click(function(){return m?!1:(w.showMobileHeaderMenu(!0),m=!0,void window.setTimeout(function(){m=!1},350))}),e.mihoConfig.share&&w.share(),(1===e.mihoConfig.reward||2===e.mihoConfig.reward)&&w.reward(),a.click(function(){w.showSidebarBox(!1),p=!0,w.showMobileHeaderMenu(!1)})}(window,document);